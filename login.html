<!DOCTYPE html>
<!-- This declares the document type and version of HTML being used. HTML5 is the current standard. -->
<html lang="en">
<!-- The root element of the HTML document. The 'lang' attribute specifies the language as English. -->
<head>
<meta charset="UTF-8">
<!-- Specifies the character encoding for the document. UTF-8 supports most characters in all known human languages. -->

<title>Login/Register</title>
<!-- Sets the title of the web page. This appears in the browser tab. -->

<link rel="stylesheet" href="style.css" />
<!-- Links to an external CSS file (style.css) for styling the page. Allows separation of content (HTML) and style (CSS). -->

<link rel="stylesheet" href="font-awesome-4.7.0/css/font-awesome.min.css" />
<!-- Links to the Font Awesome library, version 4.7.0. This library provides vector icons and social logos. -->

<style>
/* Embedded CSS styles that apply directly to this HTML page. Starts with CSS rules for layout and appearance. */
main {
	display: flex; /* Enables Flexbox layout model to align child elements horizontally or vertically */
	justify-content: center; /* Horizontally centers the content within the container */
	background: #f4f4f4; /* Light gray background for contrast */
	padding: 20px; /* Adds space inside the container */
}

.form-container {
	background: white; /* Sets background color to white */
	padding: 40px 50px; /* Adds top/bottom and left/right padding */
	border-radius: 12px; /* Rounds the corners of the form box */
	box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05); /* Adds soft shadow */
	width: 400px; /* Fixed width for form */
	height: 370px; /* Fixed height */
}

.tabs {
	display: flex; /* Lays out tab buttons in a row */
	margin-bottom: 30px; /* Adds space below tabs */
	justify-content: center; /* Center-aligns tab buttons */
	gap: 40px; /* Adds space between tabs */
}

.tab-btn {
	cursor: pointer; /* Changes cursor to pointer on hover */
	font-weight: 700; /* Makes text bold */
	font-size: 20px; /* Sets font size */
	color: #6c84a2; /* Sets initial text color */
	border-bottom: 2px solid transparent; /* Invisible bottom border for spacing/effect */
	padding-bottom: 6px; /* Adds padding below text */
	transition: all 1s ease; /* Smooth transition for style changes */
}

.tab-btn.active {
	color: #194069; /* Darker color when active */
	border-bottom-color: #194069; /* Highlights the active tab */
}

form {
	display: none; /* Hides all forms by default */
}

form.active {
	display: block; /* Shows only the currently active form */
}

.form-row {
	display: flex; /* Lays input fields in a row */
	gap: 10px; /* Adds spacing between inputs */
	margin-bottom: 20px; /* Adds spacing below the row */
}

input[type="text"],
input[type="email"],
input[type="password"] {
	width: 100%; /* Input takes full available width */
	padding: 10px 15px; /* Inner spacing for comfort */
	font-size: 16px; /* Font size for readability */
	border: 1.5px solid #ccc; /* Gray border */
	border-radius: 6px; /* Rounded corners */
	outline: none; /* Removes default browser outline on focus */
	transition: border-color 0.3s ease, background-color 0.3s ease; /* Smooth style changes */
}

input[type="text"]:focus,
input[type="email"]:focus,
input[type="password"]:focus {
	border-color: #194069; /* Highlight border on focus */
}

input.valid {
	border-color: green !important; /* Green border if valid */
	background-color: #e6f5ea !important; /* Light green background */
}

input.invalid {
	border-color: red !important; /* Red border if invalid */
	background-color: #ffecec !important; /* Light red background */
}

button {
	width: 100%; /* Button spans full container */
	background-color: #6c84a2; /* Default background */
	color: white; /* White text */
	font-size: 18px; /* Large text */
	font-weight: 600; /* Bold */
	padding: 12px 0; /* Top/bottom padding */
	border: none; /* Removes default border */
	border-radius: 8px; /* Rounded corners */
	cursor: pointer; /* Pointer cursor on hover */
	transition: background-color 0.3s ease; /* Smooth hover effect */
}

button:hover {
	background-color: #194069; /* Darker on hover */
}

.message {
	margin-top: 15px; /* Spacing from button */
	text-align: center; /* Centers text */
	color: red; /* Error messages in red */
	font-weight: 600; /* Bold */
}

#password-recovery-section {
	display: none; /* Hidden by default */
	font-size: 18px; /* Font size for readability */
	text-align: center; /* Center-align text */
}

#password-recovery-section h3 {
	font-size: 26px; /* Larger heading */
	margin-bottom: 15px; /* Space below heading */
}

#password-recovery-section input {
	width: 100%;
	padding: 10px 15px;
	font-size: 16px;
	border: 1.5px solid #ccc;
	border-radius: 6px;
	outline: none;
	margin-top: 15px;
	margin-bottom: 20px;
}

#password-recovery-section button {
	width: 100%;
	background-color: #6c84a2;
	color: white;
	font-size: 18px;
	font-weight: 600;
	padding: 12px 0;
	border: none;
	border-radius: 8px;
	cursor: pointer;
	transition: background-color 0.3s ease;
}

#password-recovery-section button:hover {
	background-color: #194069;
}

#forgot-password-link {
	text-align: center; /* Aligns forgot link to center */
}

.password-wrapper {
	position: relative; /* Sets positioning context for eye icon */
}

.password-wrapper i.toggle-password {
	position: absolute; /* Places icon over input */
	right: 15px; /* Moves it to right side */
	top: 50%; /* Vertical center */
	transform: translateY(-50%); /* Fine-tune vertical position */
	cursor: pointer; /* Pointer cursor */
	color: #999; /* Gray icon color */
}

.modal {
	display: none; /* Hidden by default */
	position: fixed; /* Stays in place */
	top: 0; /* Start from top */
	width: 100%; /* Full width */
	height: 100%; /* Full height */
	background-color: rgba(0, 0, 0, 0.4); /* Semi-transparent dark background */
}

.modal-content {
	background-color: white; /* Modal box is white */
	margin: 15% auto; /* Centered vertically */
	padding: 20px; /* Inner padding */
	border: 1px solid #888; /* Light border */
	border-radius: 15px; /* Rounded corners */
	width: 32%; /* Modal width */
	text-align: center; /* Center text inside modal */
}

#recovery-full-message {
	margin: 15px 0; /* Spacing around message */
}
</style>
</head>

<body>
<!-- BODY contains all the visible content on the page -->

<section id="header">
<!-- Top navigation section for logo and navbar -->
<a href="index.html"><img src="Icons/logo.png" class="logo" alt="Website Logo" width="100%" height="250"></a>
<!-- Clickable logo image that links to the homepage -->

<nav>
<!-- Navigation bar container -->
<ul id="navbar">
<!-- Unordered list for navigation links -->
<li><a href="index.html">Home</a></li>
<!-- Navigates to the home page -->
<li><a href="shop.html">Shop</a></li>
<!-- Navigates to the shop page -->
<li><a href="donate.html">Donate</a></li>
<!-- Navigates to the donation page -->
<li><a href="contact.html">Contact</a></li>
<!-- Navigates to the contact page -->
<li><a class="active" href="login.html">Login/Register</a></li>
<!-- Currently active page, highlighted -->
<li><a href="cart.html"><i class="fa fa-shopping-bag" aria-hidden="true"></i></a></li>
<!-- Shopping cart icon using Font Awesome -->
</ul>
</nav>
</section>

<main>
<!-- Main section containing the form UI -->
<div class="form-container">
<!-- Container for forms and tabs -->

<div class="tabs">
<!-- Tab buttons for switching between Login and Register -->
<div class="tab-btn active" id="login-tab">Login</div>
<!-- Login tab (active by default) -->
<div class="tab-btn" id="register-tab">Register</div>
<!-- Register tab -->
</div>

<form id="login-form" class="active">
<!-- Login form, visible by default -->
<div class="form-row single">
<label for="login-email" style="display:none;">Email</label>
<!-- Hidden label for accessibility -->
<input type="email" id="login-email" name="email" placeholder="E-mail" required />
<!-- Email input -->
</div>

<div class="form-row single password-wrapper">
<!-- Password field with show/hide toggle -->
<input type="password" id="login-password" name="password" placeholder="Password" required />
<i class="fa fa-eye toggle-password" toggle="#login-password" aria-label="Toggle password visibility"></i>
</div>

<button type="submit">Login</button>
<!-- Submit login -->

<div class="message" id="login-message"></div>
<!-- Area to display login errors/messages -->

<div id="forgot-password-link">
<a href="#" id="forgot-password" style="text-decoration: none; color: #6c84a2;">Forgot my password?</a>
<!-- Link to show password recovery -->
</div>
</form>

<form id="register-form">
<!-- Registration form -->
<div class="form-row">
<input type="text" id="first-name" name="firstName" placeholder="First Name" required />
<input type="text" id="last-name" name="lastName" placeholder="Last Name" required />
</div>

<div class="form-row single">
<input type="email" id="register-email" name="email" placeholder="E-mail" required />
</div>

<div class="form-row single password-wrapper">
<input type="password" id="register-password" name="password" placeholder="Password" required />
<i class="fa fa-eye toggle-password" toggle="#register-password" aria-label="Toggle password visibility"></i>
</div>

<button type="submit">Register</button>
<div class="message" id="register-message"></div>
</form>

<div id="password-recovery-section">
<!-- Password recovery form -->
<h3>Password Recovery</h3>
<p>Enter your email address, and we'll send you instructions to reset your password.</p>
<input type="email" id="recovery-email" placeholder="Enter your email" required />
<button id="send-recovery-email" type="button">Send Recovery Instructions</button>
<div class="message" id="recovery-message"></div>
<div style="margin-top: 15px; text-align: center;">
<a href="login.html" style="text-decoration: none; color: #6c84a2; font-size: 16px;">Back to Login</a>
</div>
</div>
</div>
</main>

<div id="recovery-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="recovery-email-message" tabindex="-1">
<!-- Modal overlay that appears after password recovery email is sent -->
<div class="modal-content">
<h3>Password Recovery Instructions</h3>
<h3 id="recovery-email-message" role="alert"></h3>
<p id="recovery-full-message">We just sent you an email with password recovery instructions. Please check your inbox to reset your password and login your account. If you don't see the email, be sure to check your spam folder.</p>
<button id="ok-button" type="button">OK</button>
</div>
</div>

<script>
// JavaScript functionality for tab switching, password visibility, form validation, and modal behavior

// Tab switching logic
const loginTab = document.getElementById('login-tab');
const registerTab = document.getElementById('register-tab');
const loginForm = document.getElementById('login-form');
const registerForm = document.getElementById('register-form');
const forgotPasswordLink = document.getElementById('forgot-password');
const passwordRecoverySection = document.getElementById('password-recovery-section');

loginTab.addEventListener('click', () => {
	loginTab.classList.add('active');
	registerTab.classList.remove('active');
	loginForm.classList.add('active');
	registerForm.classList.remove('active');
	passwordRecoverySection.style.display = 'none';
});

registerTab.addEventListener('click', () => {
	registerTab.classList.add('active');
	loginTab.classList.remove('active');
	registerForm.classList.add('active');
	loginForm.classList.remove('active');
	passwordRecoverySection.style.display = 'none';
});

// Show recovery section
forgotPasswordLink.addEventListener('click', (e) => {
	e.preventDefault();
	loginTab.style.display = 'none';
	registerTab.style.display = 'none';
	loginForm.style.display = 'none';
	registerForm.style.display = 'none';
	passwordRecoverySection.style.display = 'block';
});

// Send recovery email (simulated)
document.getElementById('send-recovery-email').addEventListener('click', (e) => {
	e.preventDefault();
	const recoveryEmail = document.getElementById('recovery-email');
	if (recoveryEmail.checkValidity()) {
		document.getElementById('recovery-email-message').textContent = "Sent to " + recoveryEmail.value;
		document.getElementById('recovery-modal').style.display = 'block';
	} else {
		recoveryEmail.reportValidity();
	}
});

// Dismiss modal via OK button
document.getElementById('ok-button').addEventListener('click', () => {
	document.getElementById('recovery-modal').style.display = 'none';
	window.location.href = "login.html";
});

// Dismiss modal by clicking outside
window.addEventListener('click', (e) => {
	const modal = document.getElementById('recovery-modal');
	if (e.target === modal) {
		modal.style.display = 'none';
	}
});

// Password visibility toggle logic
document.querySelectorAll('.toggle-password').forEach(icon => {
	icon.addEventListener('click', () => {
		const input = document.querySelector(icon.getAttribute('toggle'));
		const isPassword = input.getAttribute('type') === 'password';
		input.setAttribute('type', isPassword ? 'text' : 'password');
		icon.classList.toggle('fa-eye');
		icon.classList.toggle('fa-eye-slash');
	});
});

// Real-time validation with visual feedback
document.querySelectorAll('input').forEach(input => {
	input.addEventListener('input', () => {
		if (input.checkValidity()) {
			input.classList.add('valid');
			input.classList.remove('invalid');
		} else {
			input.classList.add('invalid');
			input.classList.remove('valid');
		}
	});
});
</script>

<script src="app.js"></script>
<!-- Link to external JavaScript file (app.js). This should be loaded last to ensure the DOM is ready. -->
</body>
</html>