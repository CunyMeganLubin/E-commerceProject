name: Manual GitHub Pages Build

on:
	workflow_dispatch:					# manual; no auto-runs
	push:
		branches:
		- main						# only trigger on main branch
jobs:
	build-and-deploy:
		runs-on: ubuntu-latest
		concurrency:
			cancel-in-progress: false		# prevents automatic cancellation
		steps:
			- name: Checkout repo
				uses: actions/checkout@v3

			- name: Set up Node.js
				uses: actions/setup-node@v3
				with:
					node-version: "18"

			- name: Install dependencies
				run: npm install

			- name: Build site
				run: npm run build		# change this to your actual build command

			- name: Deploy to GitHub Pages
				uses: peaceiris/actions-gh-pages@v4
				with:
					github_token: ${{ secrets.GITHUB_TOKEN }}
					publish_dir: ./dist	# change to your build output folder